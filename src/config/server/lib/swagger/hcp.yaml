paths:
    /api/hcp-profiles/master-details:
        post:
            tags:
                - hcp-profiles
            summary: Retrieve HCP user's details from master data.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                uuid:
                                    type: string
                            required:
                              - uuid
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                $ref: "#/components/schemas/hcpMasterDetails"
                401:
                    description: User is not authenticated.
                404:
                    description: HCP user profile not found.
    /api/hcp-profiles:
        post:
            tags:
                - hcp-profiles
            summary: Create a new HCP user profile.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/createHcpProfile"
            responses:
                200:
                    description: The request has succeeded.
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/hcpProfile"
                401:
                    description: User is not authenticated.

    /api/hcp-profiles/{id}:
        get:
            tags:
                - hcp-profiles
            summary: Get HCP user's profile by id.
            parameters:
                - name: id
                  in: path
                  required: true
                  description: the user identifier, as id
                  schema:
                    type: string
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                $ref: "#/components/schemas/hcpProfile"
                401:
                    description: User is not authenticated.
                404:
                    description: HCP user profile not found.

    /api/hcp-profiles/{id}/reset-password:
        put:
            tags:
                - hcp-profiles
            summary: Reset HCP user's password.
            parameters:
                - name: id
                  in: path
                  required: true
                  description: the user identifier, as id
                  schema:
                    type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/resetHcpPassword"
            responses:
                200:
                    description: The request has succeeded.
                401:
                    description: User is not authenticated.
                404:
                    description: HCP user profile not found.
                400:
                    description: Invalid request, password mismatch or invalid ID.

components:
    schemas:
        hcpMasterDetails:
            type: object
            properties:
                individual_id_onekey:
                    type: string
                codbase:
                    type: string
                uuid_1:
                    type: string
                uuid_2:
                    type: string
                lastname:
                    type: string
                firstname:
                    type: string
                activity_id_onekey:
                    type: string
                workplace_id_onekey:
                    type: string
                phone:
                    type: string
                language_code:
                    type: string
                gender_code:
                    type: string
                gender_desc:
                    type: string
                email_1:
                    type: string
                adr_id_onekey:
                    type: string
                address_lbl:
                    type: string
                adr_long_lbl:
                    type: string
                postal_city:
                    type: string
                fax:
                    type: string
                telephone:
                    type: string
                telephone_2:
                    type: string
                lgpostcode:
                    type: string
                ind_type_code:
                    type: string
                ind_type_desc:
                    type: string
                status_code:
                    type: string
                ind_status_desc:
                    type: string
                country_iso2:
                    type: string
                donotcall:
                    type: string
                donotvisit:
                    type: string
                donotemail:
                    type: string
                donotmail:
                    type: string
                donotfax:
                    type: string
                ind_privacylawenabled:
                    type: string
        hcpProfile:
            type: object
            properties:
                id:
                    type: string
                uuid:
                    type: string
                first_name:
                    type: string
                last_name:
                    type: string
                email:
                    type: string
                phone:
                    type: string
                country_iso2:
                    type: string
                status:
                    type: string
                created_at:
                    type: string
                    format: date-time
                updated_at:
                    type: string
                    format: date-time
        resetHcpPassword:
            type: object
            properties:
                email:
                    type: string
                password:
                    type: string
                confirm_password:
                    type: string
            required:
              - email
              - password
              - confirm_password
        hcpConsent:
            type: object
            description: Key value pair of consent-id and answer
            example: {"consent_id": true }
        createHcpProfile:
            type: object
            properties:
                first_name:
                    type: string
                last_name:
                    type: string
                uuid:
                    type: string
                email:
                    type: string
                password:
                    type: string
                phone:
                    type: string
                country_iso2:
                    type: string
                consents:
                    type: array
                    items:
                        $ref: "#/components/schemas/hcpConsent"
            required:
              - first_name
              - last_name
              - uuid
              - email
              - password
              - phone
              - country_iso2
