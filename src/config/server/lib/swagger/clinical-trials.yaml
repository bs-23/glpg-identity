paths:
    /api/clinical-trials/dump-raw-data:
        post:
            tags:
                - clinical-trials
            summary: dump data from https://clinicaltrials.gov .
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                urlToGetData:
                                    type: string
                                    example: https://clinicaltrials.gov/api/query/full_studies?expr=SEARCH%5BStudy%5D%28AREA%5BOrgFullName%5DGalapagos+NV%29&fmt=json&min_rnk=1&max_rnk=100
                                description:
                                    type: string
                                    example: all data from glpg nv
                            required:
                                - urlToGetData
                                - description
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: string
                                    description:
                                        type: string
                                    value:
                                        type: string
                                    log:
                                        type: string
                                    created_by:
                                        type: string
                                    updated_by:
                                        type: string
                                    createdAt:
                                        type: string
                                    updatedAt:
                                        type: string
                400:
                    description: The request is missing required parameters.
                401:
                    description: Invalid email or password.
                4400:
                    description: The access_token is invalid or expired.
                4401:
                    description: The refresh_token is invalid or expired.

    /api/clinical-trials/show-all-versions:
        get:
            tags:
                - clinical-trials
            summary: dump data version list to see .
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: string
                                    description:
                                        type: string
                                    log:
                                        type: string
                                    created_by:
                                        type: string
                                    updated_by:
                                        type: string
                                    createdAt:
                                        type: string
                                    updatedAt:
                                        type: string
                400:
                    description: The request is missing required parameters.
                401:
                    description: Invalid email or password.
                4400:
                    description: The access_token is invalid or expired.
                4401:
                    description: The refresh_token is invalid or expired.

    /api/clinical-trials/merge-process-data-stage:
        post:
            tags:
                - clinical-trials
            summary: merge data from previously dumped versioned data. If only one id is given then there will be nothing to merge. All data will be parsed as json and taken as input to staging db.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                ids:
                                    type: string
                                    example: f5dc122a-5a78-4d5a-98af-0708db00c398,d8a43180-2246-46bd-b2ee-7f5e579b2d28
                            required:
                                - urlToGetData
                                - description
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: string
                                    description:
                                        type: string
                                    log:
                                        type: string
                                    created_by:
                                        type: string
                                    updated_by:
                                        type: string
                                    createdAt:
                                        type: string
                                    updatedAt:
                                        type: string
                400:
                    description: The request is missing required parameters.
                401:
                    description: Invalid email or password.
                4400:
                    description: The access_token is invalid or expired.
                4401:
                    description: The refresh_token is invalid or expired.

    /api/clinical-trials/get-trials:
        get:
            tags:
                - clinical-trials
            summary: get all (default first 100 items, when no parameter is given) or search trials by keyword
            parameters:
                - name: items_per_page
                  in: query
                  required: false
                  description: determine how many items are shown in each page. (page_number*item_per_page)
                  example: 100
                  schema:
                    type: string
                - name: page_number
                  in: query
                  required: false
                  description: retrive data from particular page.
                  example: 1
                  schema:
                    type: string
                - name: Status
                  in: query
                  type: string
                  schema:
                    type: array
                    items:
                        type: string
                        enum:
                        - RECSTATUS_RECRUITING
                        - RECSTATUS_NOT_YET_RECRUITING
                        - RECSTATUS_STUDY_COMPLETED
                        - RECSTATUS_TERMINATED
                    style: matrix
                - name: Diseases
                  in: query
                  type: string
                - name: Location
                  in: query
                  type: string
                - name: Distance
                  in: query
                  type: string
                - name: AgeRanges
                  in: query
                  type: string
                  schema:
                    type: array
                    items:
                        type: string
                        enum:
                        - AGERANGE_ONE
                        - AGERANGE_TWO
                        - AGERANGE_THREE
                  style: matrix
                  description: AGERANGE_ONE(0-17 years), AGERANGE_TWO(18-65 years), AGERANGE_THREE(66+years)
                - name: Gender
                  in: query
                  type: string
                  schema:
                    type: array
                    items:
                        type: string
                        enum:
                        - GENDER_FEMALE
                        - GENDER_MALE
                        - GENDER_ALL
                  style: matrix
                - name: Phases
                  in: query
                  type: string
                  schema:
                    type: array
                    items:
                        type: string
                        enum:
                        - PHASE_1
                        - PHASE_2
                        - PHASE_3
                        - PHASE_4
                  style: matrix
                - name: SearchTerm
                  in: query
                  type: string
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: string
                                    description:
                                        type: string
                                    log:
                                        type: string
                                    created_by:
                                        type: string
                                    updated_by:
                                        type: string
                                    createdAt:
                                        type: string
                                    updatedAt:
                                        type: string
                400:
                    description: The request is missing required parameters.
                401:
                    description: Invalid email or password.
                4400:
                    description: The access_token is invalid or expired.
                4401:
                    description: The refresh_token is invalid or expired.

    /api/clinical-trials/get_trial_details/{id}:
        get:
            tags:
                - clinical-trials
            summary: get detail fields of a trial
            parameters:
                - name: id
                  in: path
                  required: true
                  description: the data identifier, as id
                  example: 4a27321c-c062-4653-895b-08a40bb411cd
                  schema:
                    type: string
            responses:
                200:
                    description: The request has succeeded.
                    content:
                        applicaiton/json:
                            schema:
                                type: object
                                properties:
                                    data:
                                        type: object
                                        properties:
                                            id:
                                                type: string
                                            type:
                                                type: string
                                            data:
                                                type: string
                                            applicaiton:
                                                type: object
                                                properties:
                                                    id:
                                                        type: string
                                                    name:
                                                        type: string
                                    errors:
                                        $ref: "#/components/schemas/errorBodyInSuccess"
